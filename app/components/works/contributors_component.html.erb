<section data-controller="nested-form" data-nested-form-selector-value=".inner-container">
  <h3 class="h5 fw-bold" aria-describedby="popover-work.contributor">Additional contributors
   <%= render PopoverComponent.new key: 'work.contributor' %>
  </h3>
  <p>Names will be listed in the order shown below.</p>

  <template data-nested-form-target='template'>
    <%= form.fields_for :contributors, Contributor.new, child_index: 'TEMPLATE_RECORD' do |contributor_form| %>
      <%= render Works::ContributorRowComponent.new(form: contributor_form) %>
    <% end %>
  </template>

  <%= form.fields_for :contributors do |contributor_form| %>
    <%= render Works::ContributorRowComponent.new(form: contributor_form) %>
  <% end %>

  <div data-nested-form-target="add_item">
    <%= button_tag '+ Add another contributor', type: 'button', class: 'btn btn-outline-primary', data: { action: 'nested-form#addAssociation' } %>
  </div>
</section>
